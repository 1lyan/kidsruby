<!DOCTYPE html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Ruby4Kids - Программирование для удовольствия</title>

  <!-- Load styles -->
  <link rel="stylesheet" href="../../../css/blitzer/jquery-ui-1.8.16.custom.css" type="text/css" media="screen" title="style" charset="utf-8">
  <link rel="stylesheet" href="../../../css/master.css" type="text/css" media="screen" title="style" charset="utf-8">
  <link rel="stylesheet" href="../../../css/jquery.snippet.min.css" type="text/css" media="screen" title="style" charset="utf-8">

  <!-- Load js -->
  <script type="text/javascript" src="../../../js/jquery/jquery-1.6.2.min.js"></script>
  <script type="text/javascript" src="../../../js/jquery/jquery-ui-1.8.16.custom.min.js"></script>
  <script type="text/javascript" src="../../../js/jquery/jquery.snippet.min.js"></script>
  <script type="text/javascript" src="../../../js/lessons.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      loadCode("#code-6-1", "../../shared/ruby4kids/code6_1.rb");
      loadCode("#code-6-2", "../../shared/ruby4kids/code6_2.rb");
      loadCode("#code-6-3", "../../shared/ruby4kids/code6_3.rb");
      loadCode("#code-6-4", "../../shared/ruby4kids/code6_4.rb");
      loadCode("#code-6-5", "../../shared/ruby4kids/code6_5.rb");
      loadCode("#code-6-6", "../../shared/ruby4kids/code6_6.rb");
      loadCode("#code-6-7", "../../shared/ruby4kids/code6_7.rb");
      loadCode("#code-6-8", "../../shared/ruby4kids/code6_8.rb");
      loadCode("#code-6-9", "../../shared/ruby4kids/code6_9.rb");
      loadCode("#code-6-10", "../../shared/ruby4kids/code6_10.rb");
      loadCode("#code-6-11", "../../shared/ruby4kids/code6_11.rb");
    });
  </script>
</head>

<body class="lesson-set">
  <h1>Ruby4Kids - Программирование Игр - Урок 6</h1>
  <nav id="top">
    <a href="#back" class="prev-lesson">&laquo; Назад</a>
    <a href="index.html">Вернуться к урокам</a>
    <a href="#next" class="next-lesson">Дальше &raquo;</a>
  </nav>

  <article class="lesson"><h1>Урок 6 - Добавление Вышибал</h1>
    <section class="page"><h1>Создание нового Класса и Рандомизация</h1>
      <p>Хорошо, на первом уроке мы узнали, как открыть окно в Gosu.
         Затем мы научились отрисовывать игрока внутри игрового окна.
         Затем научился перемещать этого игрока вокруг игрового окна.
         Мы также ограничили его движение до пределов игрового окна.</p>
      <p>Теперь мы готовы добавить больше волнения в игру.</p>
      <p>Как насчет того, что мы будем играть в вышибал с вашим игроком? У нас может быть мяч, который выглядит как брошенный в игровое окно, и наш игрок уклоняется от мяча, двигаясь клавишами со стрелками.</p>
      <p>Итак, давайте попробуем. У нас уже есть картинка, в комплекте с KidsRuby, которую вы можете использовать.</p>
      <p>Начните с создания нового класса для нашего вышибалы: </p>

      <pre id="code-6-1" class="sampleCode">Code automatically inserted here...</pre>

      <p>Теперь мы сделаем так чтобы этот мяч появлялся с верхней части экрана и выпадал из случайных мест.</p>
      <p>Мы достигаем этого, установив начальную позицию <code>@x</code> в произвольное число от 0 и ширину игрового окна в пикселях. Позиция <code>@y</code> для этого мяча будет 0, поскольку он находится на вершине во время инициализации. Итак, ваш код должен выглядеть так:</p>

      <pre id="code-6-2" class="sampleCode">Code automatically inserted here...</pre>

      <p>Это означает, что когда игра начинается, метод рандома даст нам позицию где-то между 0 и шириной окна игры.</p>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>

    </section>
  </article>



  <article class="lesson"><h1>Урок 6 - Добавление Вышибал</h1>
    <section class="page"><h1>Смена Позиции, Определения и Обновление</h1>
      <p>Теперь, с каждым обновлением, нам нужно заставить мяч двигаться вниз. Итак, скажем, мяч перемещается на 1 пиксель при каждом обновлении. Мы увидим, как быстро это происходит.</p>
      <p>Мы делаем это в обновлении, где мы меняем позицию <code>@y</code> на 1 пиксель как тут:</p>
      <pre id="code-6-3" class="sampleCode">Code automatically inserted here...</pre>

      <p>Затем нам нужно просто определить наш мяч в пределах класса <code>MyGame</code>, внизу под <code>def initialize</code>. Чтож это должно выглядеть вот так:</p>

      <pre id="code-6-4" class="sampleCode">Code automatically inserted here...</pre>

      <p>Затем мы переходим к <code>def update</code> и сообщить мячу, чтобы тот обновил себя. Итак, мы вводим:</p>

      <pre id="code-6-5" class="sampleCode">Code automatically inserted here...</pre>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>

    </section>
  </article>



  <article class="lesson"><h1>Урок 6 - Добавление Вышибал</h1>
    <section class="page"><h1>Добавление Иконки и Отрисовки</h1>
      <p>Теперь, как и с игроком, нам понадобится значок для мяча. Поэтому мы просто скопируем код <code>@icon</code> из кдасса <code>Player</code> и вставим его прям под <code>@game_window = game_window</code> в классе <code>Ball</code>. Затем мы собираемся изменить <code>player1.png</code> на <code>asteroid.png</code>. Итак, ваш код должен выглядеть так:</p>

      <pre id="code-6-6" class="sampleCode">Code automatically inserted here...</pre>

      <p>Затем, когда мы хотим отрисовать мяч, мы просто добавляем следующее под класс <code>Ball</code>:</p>

      <pre id="code-6-7" class="sampleCode">Code automatically inserted here...</pre>

      <p>Теперь последнее число в круглых скобках в приведенном выше коде относится к тому, будет ли мяч опускаться за игроком или перед игроком. На данный момент мы собираемся заставить мяч двигаться перед игроком, поэтому номер установлен на <code>2</code> вместо <code>1</code>.</p>

      <p> Хорошо, теперь мы просто порейдем в класс <code>MyGame</code> и добавим <code>@ball.draw</code> в <code>def draw</code> метод. Таким образом, это должно выглядеть так:</p>

      <pre id="code-6-8" class="sampleCode">Code automatically inserted here...</pre>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>
 
    </section>
  </article>

  <article class="lesson"><h1>Урок 6 - Добавление Вышибал</h1>
    <section class="page"><h1>Вещи становятся достаточно случайными</h1>

      <p>Как мы узнали, нам нужно устроить ловушку, когда мяч уходит с экрана. Если мяч выходит за пределы экрана, мы хотим начать снова, найдите случайную позицию в верхней части экрана и снова сбросьте мяч.</p>
      <p>Поэтому мы можем сделать это, добавив наш знакомый оператор <code>if</code> вот так:</p>

      <pre id="code-6-9" class="sampleCode">Code automatically inserted here...</pre>


      <p>Теперь мы сделаем кое что еще. Мы хотим, чтобы мяч начал падать с другой позиции, а не на той же х позиции как раньше. Итак, в строке, где мы перезапускаем @y до 0, мы также меняем положение @x на другую случайную позицию. Итак, код должен выглядеть так:</p>

      <pre id="code-6-10" class="sampleCode">Code automatically inserted here...</pre>
  
      <p>Теперь мяч должен опускаться, как ожидалось.</p>
      <p>Вот вся программа, которую вы должны были написать до сих пор:</p>
      <pre id="code-6-11" class="sampleCode">Code automatically inserted here...</pre>
      
      <p>Вы дошли до конца шестого урока! Теперь давайте посмотрим, можете ли вы справиться с <a href="lesson_7.html">поражен вышибалой в уроке 7</a>!</p>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>
 
    </section>
  </article>



      <a href="#top">Пролистать наверх</a>

</body>
</html>

