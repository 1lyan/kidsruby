<!DOCTYPE html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Ruby4Kids - Программирование для удовольствия</title>

  <!-- Load styles -->
  <link rel="stylesheet" href="../../../css/blitzer/jquery-ui-1.8.16.custom.css" type="text/css" media="screen" title="style" charset="utf-8">
  <link rel="stylesheet" href="../../../css/master.css" type="text/css" media="screen" title="style" charset="utf-8">
  <link rel="stylesheet" href="../../../css/jquery.snippet.min.css" type="text/css" media="screen" title="style" charset="utf-8">

  <!-- Load js -->
  <script type="text/javascript" src="../../../js/jquery/jquery-1.6.2.min.js"></script>
  <script type="text/javascript" src="../../../js/jquery/jquery-ui-1.8.16.custom.min.js"></script>
  <script type="text/javascript" src="../../../js/jquery/jquery.snippet.min.js"></script>
  <script type="text/javascript" src="../../../js/lessons.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      loadCode("#code-7-1", "../../shared/ruby4kids/code7_1.rb");
      loadCode("#code-7-2", "../../shared/ruby4kids/code7_2.rb");
      loadCode("#code-7-3", "../../shared/ruby4kids/code7_3.rb");
      loadCode("#code-7-4", "../../shared/ruby4kids/code7_4.rb");
      loadCode("#code-7-5", "../../shared/ruby4kids/code7_5.rb");
      loadCode("#code-7-6", "../../shared/ruby4kids/code7_6.rb");
      loadCode("#code-7-7", "../../shared/ruby4kids/code7_7.rb");
    });
  </script>
</head>

<body class="lesson-set">
  <h1>Ruby4Kids - Программирование Игр - Урок 7</h1>
  <nav id="top">
    <a href="#back" class="prev-lesson">&laquo; Назад</a>
    <a href="index.html">Вернуться к урокам</a>
    <a href="#next" class="next-lesson">Дальше &raquo;</a>
  </nav>

  <article class="lesson"><h1>Урок 7 - Получение удара игроком</h1>
    <section class="page"><h1>Определение удара</h1>
      <p>Итак, пришло время сделать так, что когда шар бъет игрока - игра останавливается. </p>
      <p>И первое что нам нужно сделать это открыть класс <code>Game</code> и под кодом <code>@ball.update</code> мы определим удар:</p>

      <pre id="code-7-1" class="sampleCode">Code automatically inserted here...</pre>

      <p>Теперь откроем код нашего игрока и определим метод <code>hit_by?</code>.
        Идем в класс <code>Player</code> и определяем что же означает что игрок получил удар: </p>
      <pre id="code-7-2" class="sampleCode">Code automatically inserted here...</pre>

      <p>
        Мы добавили метод из библиотеки Gosu, который называется <code>distance</code>,
        куда мы передаем Х и Y координату одного объекта и Х и Y координату другого объекта.
      </p>

      <p>Мы также написали что если расстояние между двумя этими координатами
        меньше 50, то мы производим удар.
      </p>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>

    </section>
  </article>

  <article class="lesson"><h1>Урок 7 - Получение удара</h1>
    <section class="page"><h1>Подробное Определение</h1>

      <p>Вернемся к классу <code>Game</code>. Мы сказали, что если шар попал в игрока, мы должны остановить игру. Итак, нам нужно определить, что означает остановка игры. </p>

      <p>Теперь определим новую переменную <code>running</code>.
        В классе <code>Game</code> мы напишем следующее:
     
      <pre id="code-7-3" class="sampleCode">Code automatically inserted here...</pre>
        Итак, если мы останавливаем игру, <code>running</code> будет равно false. Однако сначала надо добавить эту переменную равной true.
        Чтобы когда стартовала игра, она запускалась.
        Когда игрок поолучает удар шаром, метод <code>stop_game!</code> установит переменной  <code>running</code> значение false и это остановит игру.
      </p>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>
    
    </section>
  </article>



  <article class="lesson"><h1>Урок 7 - Получение удара игроком</h1>
    <section class="page"><h1>Стоп! Hammer Time (ц)</h1>
      <p>Теперь мы хотим чтобы игрок и шар остановились, когда игра останавливается.
        Если мы посмотрим на update метод, мы увидим, что у нас есть все что заставляет двигаться и шар, и игрока.
        Это будет работать, пока игра запущена. Но когда она останавливается, мы хотим чтобы это выключалось.
        Итак прямо под  <code>def update</code>, мы напишем:
      </p>

      <pre id="code-7-4" class="sampleCode">Code automatically inserted here...</pre>

      <p>
        Теперь вернемся к классу  <code>Player</code>.
        Мы определим два метода для шара: Х и У.
      <pre id="code-7-5" class="sampleCode">Code automatically inserted here...</pre>

      <p>
        Если вы помните, шар имеет Х и У координаты, которые мы НЕ можем получить от Игрока.
        Но мы можем вызвать методы игрока.
        Итак мы вызвали метод Х, который вернул нам координату Х. И вызвали метод У, который вернул нам координату У.
      </p>

      <a href="#back" class="prev-lesson">&laquo; Назад</a>
      <a href="index.html">Вернуться к урокам</a>
      <a href="#next" class="next-lesson">Дальше &raquo;</a>

    </section>
  </article>



  <article class="lesson"><h1>Урок 7 - Получение удара игроком</h1>
    <section class="page"><h1>Слишком близко!</h1>

      <p>Итак, мы хотим чтобы игрок начал в другой координате. Координата 50 подходит для оси Х,
        но координата У слишком близка от начала окна. Итак под  <code>def intitialize(game_window)</code> мы изменим У на 150
        Это должно выглядеть так:
      </p>

      <pre id="code-7-6" class="sampleCode">Code automatically inserted here...</pre>

      <p>Я хочу установить У в начальную позицию 150, ближе к нижнему краю окна. Тогда уклоняться от шара становится легче.</p>

      <p>Вот как должна выглядеть вся программа сейчас:</p>
      <pre id="code-7-7" class="sampleCode">Code automatically inserted here...</pre>

      <p>Ну хорошо, с этим разобрались. Можно переходить к <a href="lesson_8.html"> 8 уроку</a>!</p>
    </section>
  </article>

  <a href="#top">Пролистать наверх</a>

</body>
</html>
