<!DOCTYPE html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Ruby4Kids - Programmering för skojs skull</title>

  <!-- Load styles -->
  <link rel="stylesheet" href="../../../css/blitzer/jquery-ui-1.8.16.custom.css" type="text/css" media="screen" title="style" charset="utf-8">
  <link rel="stylesheet" href="../../../css/master.css" type="text/css" media="screen" title="style" charset="utf-8">
  <link rel="stylesheet" href="../../../css/jquery.snippet.min.css" type="text/css" media="screen" title="style" charset="utf-8">

  <!-- Load js -->
  <script type="text/javascript" src="../../../js/jquery/jquery-1.6.2.min.js"></script>
  <script type="text/javascript" src="../../../js/jquery/jquery-ui-1.8.16.custom.min.js"></script>
  <script type="text/javascript" src="../../../js/jquery/jquery.snippet.min.js"></script>
  <script type="text/javascript" src="../../../js/lessons.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      loadCode("#code-7-1", "../../shared/ruby4kids/code7_1.rb");
      loadCode("#code-7-2", "../../shared/ruby4kids/code7_2.rb");
      loadCode("#code-7-3", "../../shared/ruby4kids/code7_3.rb");
      loadCode("#code-7-4", "../../shared/ruby4kids/code7_4.rb");
      loadCode("#code-7-5", "../../shared/ruby4kids/code7_5.rb");
      loadCode("#code-7-6", "../../shared/ruby4kids/code7_6.rb");
      loadCode("#code-7-7", "../../shared/ruby4kids/code7_7.rb");
    });
  </script>
</head>

<body class="lesson-set">
  <h1>Ruby4Kids - Spelprogrammering - Lektion 7</h1>
  <nav id="top">
    <a href="#back" class="prev-lesson">&laquo; Föregående</a>
    <a href="index.html">Till lektioner</a>
    <a href="#next" class="next-lesson">Nästa &raquo;</a>
  </nav>

  <article class="lesson"><h1>Lektion 7 - Bli träffad</h1>
    <section class="page"><h1>Definiera en träff</h1>
      <p>OK, det är dags att se till så att spelet stoppas när bollen träffar spelaren. </p>
      <p>Det första vi behöver göra är att gå till <code>MyGame</code>-klassen och definiera en träff under <code>@ball.update</code>:</p>

      <pre id="code-7-1" class="sampleCode">Code automatically inserted here...</pre>

      <p>Låt oss nu gå till vår spelare och definiera <code>hit_by?</code>-metoden. Vi går till <code>Player</code>-klassen och beskriver vad det innebär att bli träffad av bollen: </p>
      <pre id="code-7-2" class="sampleCode">Code automatically inserted here...</pre>

      <p>Vad vi gjorde ovan var att vi lade till en Gosu-metod kallad <code>distance</code>, där vi skickar med x- och y-koordinaterna för ett objekt och x- och y-koordinaterna för ett annat objekt.</p>

      <p>Vi skrev också att om avståndet mellan dessa två koordinatpunkter är mindre än 50 så är det en träff. </p>

      <a href="#prev" class="prev-lesson">&laquo; Föregående</a>
      <a href="index.html">Till lektioner</a>
      <a href="#next" class="next-lesson">Nästa &raquo;</a>

    </section>
  </article>

  <article class="lesson"><h1>Lektion 7 - Bli träffad</h1>
    <section class="page"><h1>Fler definitioner</h1>

      <p>Låt oss nu gå tilbaka till <code>MyGame</code>-klassen. Vi har sagt att om en spelare träffas av en boll ska spelet stoppas. Så vi måste definiera vad det innebär att stoppa spelet. </p>

      <p>Nu introducerar vi en ny variabel som ska få den här definitionen att fungera, <code>running</code>. I <code>MyGame</code>-klassen skriver vi:
     
      <pre id="code-7-3" class="sampleCode">Code automatically inserted here...</pre>
      <p> Om vi stoppar spelet ska alltså running sättas till "false" (falskt). Men först måste vi lägga till <code>running</code>-variabeln och sätta den till "true" (sant). Så när programmet startas körs spelet. Men när spelaren träffas av bollen gör metoden <code>stop_game!</code> så att variabeln <code>running</code> sätts till "false", vilket stoppar spelet.</p> 

      <a href="#prev" class="prev-lesson">&laquo; Föregående</a>
      <a href="index.html">Till lektioner</a>
      <a href="#next" class="next-lesson">Nästa &raquo;</a>
    
    </section>
  </article>



  <article class="lesson"><h1>Lektion 7 - Bli träffad</h1>
    <section class="page"><h1>Stop! Hammer Time</h1>
      <p>Nu vill vi att spelaren och bollen ska sluta röra sig när spelet stoppas. Om du tittar på update-metoden ser du att det som står där får antingen spelaren eller bollen att röra sig. Och det fungerar ju så länge spelet körs. Men när det stoppas vill vi inte att de här instruktionerna ska utföras. Så direkt under <code>def update</code> skriver vi:
 
      <pre id="code-7-4" class="sampleCode">Code automatically inserted here...</pre>

      <p>Låt oss nu gå tillbaka till <code>Ball</code>-klassen. Vi ska nu definiera två metoder för bollen: x and y. För att göra detta skriver vi:

      <pre id="code-7-5" class="sampleCode">Code automatically inserted here...</pre>

      <p>Som du kanske minns så har bollen variabler för x- och y-koordinaterna, som vi inte kommer åt från spelaren. Men vi kan anropa bollens metoder. Så vad vi gjorde ovan var att vi anropade x-metoden, som returnerar x-variabeln, och y-metoden, som returnerar y-variabeln. </p>

      <a href="#prev" class="prev-lesson">&laquo; Tillbaka</a>
      <a href="index.html">Till lektioner</a>
      <a href="#next" class="next-lesson">Nästa &raquo;</a>

    </section>
  </article>



  <article class="lesson"><h1>Lektion 7 - Bli träffad</h1>
    <section class="page"><h1>Komma för nära</h1>

      <p>Till slut vill vi att spelaren ska starta på en annan y-position. Värdet 50 är okej för x-positionen, men y-positionen ligger för nära fönstrets topp. Så under <code>def intitialize(game_window)</code> ändrar vi y till 150. Slutresultatet bör se ut så här:</p>

      <pre id="code-7-6" class="sampleCode">Code automatically inserted here...</pre>      

      <p>Om vi sätter y till 150 hamnar spelaren längre ner i fönstret, vilket gör det lättare att undvika bollen.</p>
      
      <p>Återigen, här är hela det program du ska ha skrivit så här långt:</p>
      <pre id="code-7-7" class="sampleCode">Code automatically inserted here...</pre>

      <p>Alright, storfräsaren, det verkar som att du har vad som krävs. Nu fortsätter vi till <a href="lesson_8.html">nästa nivå i lektion 8</a>!</p>
    </section>
  </article>

  <a href="#top">Till toppen av sidan</a>

</body>
</html>
